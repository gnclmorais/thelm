<!DOCTYPE HTML>
<html>
<head>
  <meta charset="UTF-8">
  <title>Thelm</title>
</head>

<body>
	<div id="app"></div>

	<script src="app.js"></script>
	<script>
		var appContainer = document.getElementById('app');
		var app = Elm.Main.init({ node: appContainer });

		app.ports.storeReferences.subscribe(function (references) {
			if (references.length === 0) return;

			var referencesJson = JSON.stringify(references);
			localStorage.setItem('post-app-save', referencesJson);
			console.log('Saved state: ', referencesJson);
		});
	</script>
</body>
</html>
